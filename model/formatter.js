/*
 * Copyright (C) 2009-2020 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/m/library","sap/ui/core/format/NumberFormat","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/format/FileSizeFormat","fin/ap/approvebankpayments/model/statusGroups","fin/ap/approvebankpayments/model/Constants"],function(m,N,D,c,L,F,S,C){"use strict";var V=c.ValueState;var a=m.ListMode;var _=null;var b=function(k,p){return _?_.getText(k,p):k;};var d=function(v,o,l){if(!v){return"";}var i=N.getFloatInstance(o,l);return i.format(v);};var e=function(k){var G=S.getGroupByStatusValue(k);return G?G.status:null;};var f=function(n,s,p){var i;var k;if(!n||n.length===0){return"";}i=Number(n);k=i===1?s:p;return b(k,[i]);};var g=function(i){return i?D.getInstance({style:"medium"}).format(i,true):i;};var h=function(i){return i?D.getDateTimeInstance({style:"medium/short"}).format(i,true):i;};return{statusCodeToStatus:function(v){var G=S.getGroupByStatusValue(v);return G?G.status:V.None;},longFloatValue:function(v,l){return d(v,{minFractionDigits:2,maxFractionDigits:2},l?new L(l):null);},numberOfBatches:function(n){return f(n,"masterNumberOfBatchesSingular","masterNumberOfBatchesPlural");},numberOfPayments:function(n){return f(n,"masterNumberOfPaymentsSingular","masterNumberOfPaymentsPlural");},composeCodeName:function(s,n){var t="";if(s&&n){t=b("detailCodeAndName",[s,n]);}else if(s){t=s;}else if(n){t=n;}return t;},ensureColumnDependency:function(p,i,j){var k=p.select?p.select.split(","):[];if(k.indexOf(i)>-1&&k.indexOf(j)===-1){p.select=k.concat(j).join(",");}},paymentBatchTitle:function(i){var t="";if(i){t=b("detailPaymentBatch",[i]);}return t;},mediumDate:function(i){return g(i);},mediumDateTime:function(o){return h(o);},mediumDateCoalesce:function(i,j){return g(i?i:j);},formatUrgentFlagStatus:function(s){var j;var i;for(i=0;i<C.PAYMENT_URGENT_FLAG_STATE.length;i++){if(s===C.PAYMENT_URGENT_FLAG_STATE[i].abbr){j=C.PAYMENT_URGENT_FLAG_STATE[i].flagState;break;}}if(j){return j;}else{return V.None;}},isFinalToStatus:function(v){return v?V.Warning:V.None;},isUrgentPayment:function(s){return s==="A"||s==="P";},formatFlagLinguistic:function(i){return b(i?"detailItemFlagIsSet":"detailItemFlagIsNotSet");},paymentUrgentState:function(i){return i?V.Error:V.None;},setResourceBundle:function(B){_=B;},paymentActionToStatus:function(s,A,i){var j;if(A){j=e(i);}if(!j){j=e(s);}return j?j:V.None;},formatBytes:function(v){return F.getInstance({binaryFilesize:false,maxFractionDigits:1,maxIntegerDigits:3}).format(v);},dateTimeToDate:function(o){if(!o||!(o instanceof Date)){return null;}return new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()));},historyIcon:function(i){var s=i?i:"activity-items";return"sap-icon://"+s;},tableMode:function(E){return E?a.MultiSelect:a.None;},deferButtonVisibility:function(i){var j=i.getMetaModel().getODataEntitySet("C_AbpPaymentBatch");return j["sap:is-onpremise"]==="true";}};});
